@{
    ViewData["Title"] = "Home Page";
}

@section scripts{

        <script>


            var fileChanged3 = function (input, imgInScope, imageElementId) {
                if (input.files && input.files[0]) {


                    for (var i = 0; i < input.files.length; i++) {
                        var reader = new FileReader();
                        reader.onload = function (e) {
                            var dd = e.target.result;
                            $('#newImgList').append('<img src=' + dd + ' style="height:70px;padding-right:5px;"  />');
                        }
                        reader.readAsDataURL(input.files[i]);
                    }

                    $('#uploadBtn').css('display', (input.files.length > 0) ? 'block' : 'none');
                }
            };
        </script>
    }

<div class="row">

    <div class="col-xs-12" style="margin: 5px 0px;">
        <div class="col-xs-10 col-xs-offset-1 text-center " style="padding: 0px;    background: #8c825f;">
            <div id="qunit-fixture">
                <!-- The file upload form used as target for the file upload widget -->


             
                    <form id="upload" method="post" action="/Home/UploadImages" enctype="multipart/form-data" style="width: 100%; margin: 0px;">
                        <div id="drop">
                            فایلها را بکشید اینجا و رها کنید
                            <br/>
                            <a>انتخاب فایل</a>
                            <input type="file" name="files" multiple accept="image/*"/>

                            @*Match all image files (image/*)  =>  accept="image/*"
                            Match all video files (video/*)    =>  accept="video/*"
                            Match all audio files (audio/*)    => accept="audio/*"
                            Match all image files (image/*) and files with the extension ".someext"  => accept=".someext,image/*"
                            Match all image files (image/*) and video files (video/*)  => accept="image/*,video/*"*@
                        </div>

                        <ul>
                            <!-- The file uploads will be shown here -->
                        </ul>

                    </form>
               

                @*<form action="/Home/UploadImages" method="POST" enctype="multipart/form-data">
                    <input type="file" name="files" onchange="fileChanged3(this)" accept="image/*" multiple>

                    <ul id="newImgList">
                        <li></li>
                    </ul>
                    <button type="submit" class="btn btn-success" id="uploadBtn" style="display: none;">اپلود</button>
                </form>*@
            </div>

        </div>
    </div>
    <hr />
    <div class="col-xs-12">


        <div class="col-xs-10 col-xs-offset-1" id="imagesShow">
            @{
                var slidShowImages = ViewData["SlidShowImages"] as List<string>;
                var i = 0;

                foreach (var img in slidShowImages)
                {
                    <div class="col-xs-4 col-sm-3 col-md-2" style="padding: 2px;">
                        @using (Html.BeginForm("RemoveImage", "Home", FormMethod.Post, new { id = "logoutForm" }))
                        {
                            @Html.AntiForgeryToken()
                            <button class="btn pull-left btn-danger" name="name" value="@img" style="border-radius: 20px;position: absolute;">X</button>
                        }



                        <img src="@img" style="height: 130px; width: 130px;" />
                    </div>

                }
            }
        </div>
    </div>
</div>


